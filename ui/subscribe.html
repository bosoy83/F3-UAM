<div class="row loginform">
    <div class="col col-sm-6 col-sm-offset-3 col col-md-4 col-md-offset-4 ">
        <form id="subscribeform" method="POST" action="dosubscribe">
            <div class="form-group">
                <input type="text" class="form-control"  name="username" id="username"placeholder="User Name">
            </div>
            <div class="form-group">
                <input type="email" class="form-control"  name="email" id="email"placeholder="Email">
            </div>
            <div class="form-group">
                <input type="password" class="form-control" name="password" id="password" placeholder="Password">
            </div>
            <div class="form-group">
                <input type="password" class="form-control" name="repeatpassword" id="repeatpassword" placeholder="Repeat Password">
            </div>
            <div class="form-buttons">
                <a href="#" id="dosubscribe" class="btn btn-lg ghost btn-info">Subscribe</a>
            </div>
        </form>
    </div>
</div>

<script>
    $(function(){

        function isEmail(email) {
            var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
            return regex.test(email);
        }

        function validate() {
            var validUsername = $("#username").val().length > 0;
            if(!validUsername) {
                $("#username").addClass("invalid");
            }
            else {
                $("#username").removeClass("invalid");
            }

            var validEmail = $("#email").val().length > 0 && isEmail($("#email").val());
            if(!validEmail) {
                $("#email").addClass("invalid");
            }
            else {
                $("#email").removeClass("invalid");
            }

            var validPassword = $("#password").val().length >= 8;
            if(!validPassword) {
                $("#password").addClass("invalid");
            }
            else {
                $("#password").removeClass("invalid");
            }

            var validRepeatPassword = $("#repeatpassword").val().length >= 8 && $("#repeatpassword").val() == $("#password").val();
            if(!validRepeatPassword) {
                $("#repeatpassword").addClass("invalid");
            }
            else {
                $("#repeatpassword").removeClass("invalid");
            }

            console.log(validUsername);
            console.log(validPassword);

            return validPassword && validEmail && validPassword && validRepeatPassword && validUsername;
        }

        $(".form-control").on("input", function() {
            validate();
        });

        $("#dosubscribe").click(function() {
            if(validate()) {
                $("#subscribeform").submit();
            }
        });
    });
</script>